<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <style>
      .red {
          color: red;
      }

      .blue {
          color: blue;
      }

      .fade-enter-active, .fade-leave-active {
          transition: opacity .5s;
      }
      .fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {
          opacity: 0;
      }
  </style>
</head>
<body>
<div id="app">
  <title-component @event-from-child="onListenDataFromChild">
    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Harum illo illum ipsam labore modi nihil sed? Aspernatur atque distinctio molestias nam nostrum nulla, provident quo quos suscipit. Dolores minus, mollitia?
    <p slot="header">Header Slot</p>
    <p slot="footer">Footer Slot</p>
<!--    <p slot-scope="{ text }" v-text="text"></p>-->
  </title-component>
  <global-component :abc="a"></global-component>
  {{message}}
  <button @click="onClick">Change</button>
  <div v-for="(product, index) in products">
    {{product.title}}
  </div>
  <input type="text" @change="onChange($event)">

  <input v-model="show">
  {{show}}
  <!--Directives-->
  <!--Render-->
  <div v-if="show == 0">Div này hiển thị</div>
  <div v-else-if="show == 1">Div 1 này hiển thị</div>
  <div v-else="show == 2">Div 2 này hiển thị</div>
  <!--view or no-->
  <div v-show="show == 0">Div 11này hiển thị</div>
  <div v-show="show == 1">Div 111 này hiển thị</div>
  <div v-show="show == 2">Div 211 này hiển thị</div>

  <div :class="color">Color</div>

  <div v-html="html"></div>
  {{html | numberToWord | add(777)}}
  {{ a + b}}
  <!--Component-->
  {{sum}}
  {{sum}}
  {{sum}}
  <div>
    v-model.lazy
    <input type="text" v-model.lazy="a"> {{typeof a}}
    {{bChange}}
  </div>
  <div>
    v-model.number
    <input type="text" v-model.number="number"> {{typeof number}}
  </div>
  <div>
    v-model.trim
    <input type="text" v-model.trim="trim"> {{trim.length}}
  </div>

  <button @click="show = !show">
    Kích hoạt
  </button>
  <transition name="fade">
    <p v-if="show">Xin chào</p>
  </transition>
</div>
</body>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
<script type="module">
  import TitleComponent from "./components/title-component.js"

  /**
   * Create new Vue global
   */
  Vue.component("global-component", {
    //props: ['abc'],
    props: {
      // abc: [Number, String]
      abc: {
        type: [Number, String],
        //required: true,
        default: 7,
        validator: function (value) {
          return value > 10;
        }
      }
      /**
       * String
       Number
       Boolean
       Function
       Object
       Array
       Symbol
       */
    },
    template: `<h3>Component global {{ abc }}</h3>`
  })

  /**
   * Create new Vue Instance
   */
  const app = new Vue({
    el: "#app",
    /**
     * Data
     * @returns {{message: string}}
     */
    data() {
      return {
        a: 3,
        b: 5,
        color: "red",
        html: "<h1>kfhskfshkfsfkshfs</h1>",
        show: 1,
        name: "ABC",
        message: "Hello world",
        products: [],
        bChange: 0,
        number: null,
        trim: ""
      }
    },
    filters: {
      numberToWord: function(val) {
        return val + "123"
      },
      add: function(val, add) {
        return val + add
      }
    },
    computed: {
      //cache
      sum: function() {
        console.log("sum")
        return this.a + this.b
      }
    },
    watch: {
      a: function(newVal, oldVal) {
        this.bChange = newVal - oldVal
      }
    },
    beforeCreate() {
      console.log("before create")
    },
    created() {
      console.log("created")
      // fetch("https://fakestoreapi.com/products").then((response) => {
      //   console.log("response", response)
      //   if (response.status !== 200) {
      //     console.log("Error " + response.status)
      //     return
      //   }
      //   response.json().then(data => {
      //     console.log("data", data)
      //     this.products = data
      //   })
      //
      // })
    },
    beforeMount() {
      console.log("beforeMount")
    },
    mounted() {
      console.log("mounted")
    },
    updated() {
      console.log("mounted")
    },
    beforeDestroy() {
      console.log("beforeDestroy")
    },
    destroyed() {
      console.log("destroyed")
    },
    components: {
      "title-component": TitleComponent
    },
    /**
     * Method
     */
    methods: {
      // no cache
      onClick: function() {
        this.message = "Hi world"
      },
      onChange: function(e) {
        console.log(e)
      },
      onListenDataFromChild: function(data) {
        alert(data)
      }
    },
    // render(h) {
    //   return h(TitleComponent)
    // }
  })
</script>
</html>